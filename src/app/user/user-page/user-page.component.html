<div class="container my-4" *ngIf="user">
  <!-- Sezione Informazioni Utente con effetto satinato -->
  <div class="user-info-satin mb-5 p-4">
    <div class="row align-items-center">
      <div class="col-md-4 text-center">
        <img
          [src]="imgUrl + user.avatar"
          alt="Foto Utente"
          class="img-fluid rounded-circle"
          style="max-width: 200px"
        />
      </div>
      <div class="col-md-8">
        <h2>{{ user.username }}</h2>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Nome:</strong> {{ user.name }}</p>
        <p><strong>Cognome:</strong> {{ user.surname }}</p>
        <p><strong>Telefono:</strong> {{ user.phoneNumber }}</p>
      </div>
    </div>
  </div>

  <!-- Sezione Preferiti -->
  <div class="row">
    <h3 class="mb-3">I tuoi preferiti</h3>
    <div
      *ngFor="let autopart of favouriteAutoparts"
      class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4"
    >
      <div class="card h-100">
        <img
          [src]="imgUrl + autopart.immagine || 'assets/placeholder.png'"
          class="card-img-top"
          alt="{{ autopart.nome }}"
        />
        <div class="card-body">
          <button
            *ngIf="userRole === 'ROLE_USER'"
            class="btn btn-link p-1"
            (click)="toggleFavourite(autopart.id)"
          >
            <i
              [ngClass]="{
                'bi-heart-fill text-danger': favouriteIds.has(autopart.id),
                'bi-heart text-muted': !favouriteIds.has(autopart.id)
              }"
              class="bi fs-5"
            ></i>
          </button>
          <h5 class="card-title">{{ autopart.nome }}</h5>
          <p class="card-text">{{ autopart.descrizione }}</p>
          <p class="card-text">
            <strong>Prezzo:</strong>
            {{ autopart.prezzi[0].importo | currency : "EUR" }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
